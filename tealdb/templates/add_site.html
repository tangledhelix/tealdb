{% extends 'base.html' %}
{% load static %}

{% block title %}{{ form_type|capfirst }} Site | TealDB{% endblock %}

{# date format - http://momentjs.com/docs/#/displaying/format/ #}

{% block content %}

<script type="text/javascript" src="{% static 'moment/min/moment.min.js' %}"></script>
<script type="text/javascript" src="{% static 'eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js' %}"></script>
<link rel="stylesheet" href="{% static 'eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css' %}"></script>

<div class="row">
<div class="col-md-12">
    <h2 class="text-center">{{ form_type|capfirst }} site</h2>
</div>
</div>

{% if error %}
<div class="row">
<div class="col-md-12">
    <p id="error" class="text-center text-danger">{{ error }}</p>
</div>
</div>
{% endif %}

<div class="row">
<div class="col-md-6 col-md-offset-3">

<form method="POST">

    <div class="form-group">
        <label for="inputName">Site name</label>
        <input type="text" class="form-control" id="inputName"
            name="inputName" value="{{ site.name }}">
    </div>

    <div class="form-group">
        <label for="inputAddress1">Address</label>
        <input type="text" class="form-control" id="inputAddress1"
            name="inputAddress1" value="{{ site.address1 }}">
    </div>

    <div class="form-group">
        <label for="inputAddress2">Address 2</label>
        <input type="text" class="form-control" id="inputAddress2"
            name="inputAddress2" value="{{ site.address2 }}">
    </div>

    <div class="form-group">
        <label for="inputCity">City</label>
        <input type="text" class="form-control" id="inputCity"
            name="inputCity" value="{{ site.city }}">
    </div>

    <div class="form-group">
        <label for="inputState">State / Province</label>
        <input type="text" class="form-control" id="inputState"
            name="inputState" value="{{ site.state }}">
    </div>

    <div class="form-group">
        <label for="inputPostalCode">Postal Code</label>
        <input type="text" class="form-control" id="inputPostalCode"
            name="inputPostalCode" value="{{ site.postal_code }}">
    </div>

    <div class="form-group">
        <label for="inputCountry">Country</label>
        <input type="text" class="form-control" id="inputCountry"
            name="inputCountry" value="{{ site.country }}">
    </div>

    <div class="form-group">
        <label for="inputWebSite">Web Site</label>
        <input type="url" class="form-control" id="inputWebSite"
            name="inputWebSite" value="{{ site.web_site }}">
    </div>

    <div class="form-group">
        <label for="inputEmail">Email</label>
        <input type="email" class="form-control" id="inputEmail"
            name="inputEmail" value="{{ site.email }}">
    </div>

    <div class="form-group">
        <label for="inputPhone">Phone</label>
        <input type="tel" class="form-control" id="inputPhone"
            name="inputPhone" value="{{ site.phone }}">
    </div>

    <div class="form-group">
        <label for="inputFax">Fax</label>
        <input type="tel" class="form-control" id="inputFax"
            name="inputFax" value="{{ site.fax }}">
    </div>

    <div class="form-group">
        <label for="inputSubmissionDate">Date of submission</label>
        <div class="input-group date" id="datetimepicker1">
            <input class="form-control" id="inputSubmissionDate" name="inputSubmissionDate"
                   placeholder="mm/dd/yyyy" />
            <span class="input-group-addon">
                <span class="glyphicon glyphicon-calendar"></span>
            </span>
        </div>
    </div>

    <div class="form-group">
        <label for="inputLightingStartDate">Lighting begins</label>
        <div class="input-group date" id="datetimepicker2">
            <input class="form-control" id="inputLightingStartDate" name="inputLightingStartDate"
                   placeholder="mm/dd/yyyy" />
            <span class="input-group-addon">
                <span class="glyphicon glyphicon-calendar"></span>
            </span>
        </div>
    </div>

    <div class="form-group">
        <label for="inputLightingEndDate">Lighting ends</label>
        <div class="input-group date" id="datetimepicker3">
            <input class="form-control" id="inputLightingEndDate" name="inputLightingEndDate"
                   placeholder="mm/dd/yyyy" />
            <span class="input-group-addon">
                <span class="glyphicon glyphicon-calendar"></span>
            </span>
        </div>
    </div>

    <div class="form-group">
        <label for="inputYearsLit">Years Lit</label>
        <input type="text" class="form-control" id="inputYearsLit"
            name="inputYearsLit" value="{{ site.years_lit }}">
    </div>

    <div class="form-group">
        <label for="inputMapLink">Map Link</label>
        <input type="url" class="form-control" id="inputMapLink"
            name="inputMapLink" value="{{ site.map_link }}">
    </div>

    <div class="form-group">
        <label for="inputDisposition">Disposition</label>
        <select class="form-control" name="inputDisposition" id="inputDisposition">
            <option>-- choose one --</option>
{% for disposition in dispositions %}
            <option value="{{ disposition.0 }}"{% if site.disposition == disposition.0 %} selected{% endif %}>{{ disposition.1 }}</option>
{% endfor %}
        </select>
    </div>

    <div class="checkbox">
        <label>
            <input id="inputHaveLit" name="inputHaveLit" type="checkbox"{% if site.have_lit %} checked{% endif %}>
            Have lit this site
        </label>
    </div>

    <div class="checkbox">
        <label>
            <input id="inputFee" name="inputFee" type="checkbox"{% if site.fee %} checked{% endif %}>
            Lighting fee
        </label>
    </div>

    <div class="form-group">
        <label for="inputNotes">Notes</label>
        <textarea id="inputNotes" name="inputNotes" class="form-control" rows="3" >{{ site.notes }}</textarea>
    </div>

    <button type="submit" class="btn btn-primary">
        Save
    </button>

    {% csrf_token %}

</form>

</div>
</div>

<script>
$(function () {
    var dateFormat = 'M/D/YYYY';
    $('#datetimepicker1').datetimepicker({
        format: dateFormat,
        defaultDate: '{{ site.submission_date }}',
    });
    $('#datetimepicker2').datetimepicker({
        format: dateFormat,
        defaultDate: '{{ site.lighting_start_date }}',
    });
    $('#datetimepicker3').datetimepicker({
        format: dateFormat,
        defaultDate: '{{ site.lighting_end_date }}',
    });
});
</script>

{% endblock %}{# content #}
